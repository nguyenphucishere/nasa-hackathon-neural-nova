<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🌸 Flower Bloom Forecast - Dự Báo Mùa Hoa Nở</title>
    <link rel="stylesheet" href="style.css">
    <!-- Leaflet CSS for Map -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
</head>
<body>
    <!-- Falling Petals Animation Background -->
    <div class="petals-container" id="petalsContainer"></div>

    <!-- Main Container -->
    <div class="container">
        <!-- Left Column - Form & Info -->
        <div class="left-panel">
            <!-- Header -->
            <header class="header">
                <div class="logo">
                    <span class="logo-icon">🌸</span>
                    <div class="logo-text">
                        <h1>Flower Bloom</h1>
                        <p>Dự Báo Mùa Hoa Nở</p>
                    </div>
                </div>
            </header>

            <!-- Search Form -->
            <div class="search-card glass-effect">
                <h2 class="section-title">🔍 Tìm Kiếm Mùa Hoa</h2>
                
                <div class="form-group">
                    <label for="flowerType">
                        <span class="label-icon">🌺</span>
                        Loài Hoa
                    </label>
                    <select id="flowerType" class="form-control">
                        <option value="">Chọn loài hoa...</option>
                        <option value="cherry-blossom">🌸 Hoa Anh Đào (Cherry Blossom)</option>
                        <option value="lavender">💜 Hoa Oải Hương (Lavender)</option>
                        <option value="tulip">🌷 Hoa Tulip</option>
                        <option value="sunflower">🌻 Hoa Hướng Dương</option>
                        <option value="lotus">🪷 Hoa Sen (Lotus)</option>
                        <option value="buckwheat">🌺 Hoa Tam Giác Mạch (Buckwheat)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="travelDate">
                        <span class="label-icon">📅</span>
                        Thời Gian Dự Định
                    </label>
                    <input type="month" id="travelDate" class="form-control">
                </div>

                <div class="form-group">
                    <label for="country">
                        <span class="label-icon">🌍</span>
                        Quốc Gia
                    </label>
                    <select id="country" class="form-control">
                        <option value="">Tất cả quốc gia...</option>
                        <option value="japan">🇯🇵 Nhật Bản</option>
                        <option value="korea">🇰🇷 Hàn Quốc</option>
                        <option value="france">🇫🇷 Pháp</option>
                        <option value="netherlands">🇳🇱 Hà Lan</option>
                        <option value="vietnam">🇻🇳 Việt Nam</option>
                    </select>
                </div>

                <button class="btn-search" id="searchBtn">
                    <span>Tìm Kiếm</span>
                    <span class="btn-icon">✨</span>
                </button>
            </div>

            <!-- Recommendation Card -->
            <div class="recommendation-card glass-effect" id="recommendationCard" style="display: none;">
                <div class="rec-header">
                    <span class="rec-icon" id="recIcon">🌸</span>
                    <h3 id="recTitle">Hoa Anh Đào</h3>
                </div>

                <div class="rec-content">
                    <div class="info-item">
                        <span class="info-label">🌸 Mùa Nở Đẹp Nhất:</span>
                        <span class="info-value peak-season" id="peakSeason">Tháng 3 - 4</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">🌡️ Nhiệt Độ Lý Tưởng:</span>
                        <span class="info-value" id="temperature">15°C - 20°C</span>
                    </div>

                    <div class="info-item">
                        <span class="info-label">📍 Địa Điểm Nổi Tiếng:</span>
                        <div class="locations-list" id="locationsList"></div>
                    </div>

                    <div class="tips-box">
                        <div class="tips-title">💡 Lời Khuyên:</div>
                        <p id="tipsText">Đặt vé sớm và theo dõi dự báo thời tiết...</p>
                    </div>
                </div>

                <!-- Bloom Timeline -->
                <div class="bloom-timeline">
                    <h4 class="timeline-title">📊 Thời Gian Nở Hoa</h4>
                    <div class="timeline-months" id="timelineMonths"></div>
                </div>

                <!-- Photo Gallery -->
                <div class="photo-gallery">
                    <h4 class="gallery-title">📸 Thư Viện Ảnh</h4>
                    <div class="gallery-grid" id="galleryGrid"></div>
                </div>
            </div>
        </div>

        <!-- Right Column - Map -->
        <div class="right-panel">
            <div class="map-container glass-effect">
                <div id="map"></div>
                
                <!-- Map Legend -->
                <div class="map-legend">
                    <h4>Chú Thích Bản Đồ</h4>
                    <div class="legend-item">
                        <span class="legend-color peak"></span>
                        <span>Mùa Nở Đỉnh Cao</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color good"></span>
                        <span>Mùa Nở Tốt</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color off"></span>
                        <span>Ngoài Mùa</span>
                    </div>
                </div>

                <!-- Loading Indicator -->
                <div class="map-loading" id="mapLoading">
                    <div class="loading-spinner"></div>
                    <p>Đang tải bản đồ...</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-icon">✅</span>
        <span class="toast-message" id="toastMessage">Tìm kiếm thành công!</span>
    </div>

    <!-- AI Chatbot Popup -->
    <div class="chatbot-popup" id="chatbotPopup">
        <div class="chatbot-header">
            <div class="chatbot-title">
                <span class="chatbot-avatar">🤖</span>
                <div>
                    <h3>Trợ Lý Du Lịch AI</h3>
                    <p class="chatbot-status">
                        <span class="status-dot"></span>
                        Online
                    </p>
                </div>
            </div>
            <button class="chatbot-close" id="chatbotClose">✕</button>
        </div>

        <div class="chatbot-messages" id="chatbotMessages">
            <div class="chat-message bot-message">
                <div class="message-avatar">🤖</div>
                <div class="message-content">
                    <div class="message-text">
                        Xin chào! 👋 Tôi là trợ lý du lịch AI. Tôi có thể giúp bạn:
                        <ul>
                            <li>🗓️ Tư vấn thời gian đi chơi phù hợp</li>
                            <li>📍 Gợi ý địa điểm ngắm hoa đẹp</li>
                            <li>🏨 Thông tin khách sạn, nhà hàng</li>
                            <li>🚗 Phương tiện di chuyển</li>
                            <li>💡 Tips và kinh nghiệm du lịch</li>
                        </ul>
                        Bạn muốn biết điều gì? 😊
                    </div>
                </div>
            </div>
        </div>

        <div class="chatbot-suggestions" id="chatbotSuggestions">
            <button class="suggestion-chip">Thời gian đi tốt nhất?</button>
            <button class="suggestion-chip">Địa điểm nào đẹp nhất?</button>
            <button class="suggestion-chip">Chi phí ước tính?</button>
            <button class="suggestion-chip">Cần chuẩn bị gì?</button>
        </div>

        <div class="chatbot-input-wrapper">
            <input 
                type="text" 
                class="chatbot-input" 
                id="chatbotInput" 
                placeholder="Nhập câu hỏi của bạn..."
                autocomplete="off"
            />
            <button class="chatbot-send" id="chatbotSend">
                <span>📤</span>
            </button>
        </div>
    </div>

    <!-- Chatbot Floating Button -->
    <button class="chatbot-button" id="chatbotButton" title="Trợ lý AI">
        <span class="chatbot-icon">🤖</span>
        <span class="chatbot-pulse"></span>
    </button>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <!-- Main Script -->
    <script src="script.js"></script>
</body>
</html>
